<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prueba de Programación Orientada a Objetos</title>
    <style>
        .resultado {
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <h1>Prueba de Programación Orientada a Objetos en JavaScript</h1>
    <p>Los resultados se mostrarán a continuación:</p>

    <div class="resultado" id="resultado-personaje"></div>
    <div class="resultado" id="resultado-guerrero"></div>

    <script>
        // Función para crear un nuevo Personaje
        function crearPersonaje(nombre, vida) {
            // Usar un closure para encapsular atributos
            const obj = {
                nombre: nombre,
                vida: vida,
                atacar: function() {
                    document.getElementById('resultado-personaje').innerHTML += `${this.nombre} ataca!<br>`;
                },
                obtenerVida: function() {
                    return this.vida;
                },
                modificarVida: function(nuevaVida) {
                    this.vida = nuevaVida;
                }
            };
            return obj;
        }

        // Función para crear un nuevo Guerrero, que hereda de Personaje
        function crearGuerrero(nombre, vida, fuerza) {
            const personaje = crearPersonaje(nombre, vida);
            
            // Usar Object.assign para agregar propiedades adicionales
            const guerrero = Object.assign(personaje, {
                fuerza: fuerza,
                atacar: function() {
                    document.getElementById('resultado-guerrero').innerHTML += `${this.nombre} ataca con fuerza!<br>`;
                }
            });
            
            return guerrero;
        }

        // Crear una instancia de Personaje
        const personaje = crearPersonaje('Gandalf', 100);
        personaje.atacar(); // Output: Gandalf ataca!
        document.getElementById('resultado-personaje').innerHTML += `Vida: ${personaje.obtenerVida()}<br>`;
        personaje.modificarVida(80);
        document.getElementById('resultado-personaje').innerHTML += `Vida después de modificar: ${personaje.obtenerVida()}<br>`;

        // Crear una instancia de Guerrero
        const guerrero = crearGuerrero('Aragorn', 100, 50);
        guerrero.atacar(); // Output: Aragorn ataca con fuerza!
        document.getElementById('resultado-guerrero').innerHTML += `Vida: ${guerrero.obtenerVida()}<br>`;
        guerrero.modificarVida(80);
        document.getElementById('resultado-guerrero').innerHTML += `Vida después de modificar: ${guerrero.obtenerVida()}<br>`;
    </script>
</body>
</html>
